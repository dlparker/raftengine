.. _test_heartbeat_2:

=============================================
Test test_heartbeat_2 from file test_timers_1
=============================================


    Tests to make sure that correct heartbeat timer and election timeout
    values do not result in an election if everything is allowed to run
    for more than the election timeout value.

    Test starts with a normal election with timers on, then the
    auto transport is enabled and a time period equal to twice the
    election_timeout max value is allowed to pass. If the leader
    is still the leader and the term is still the term, then party.
    

Section 1: Normal election
==========================




.. collapse:: section 1 trace table (click to toggle view)

   - See :ref:`Trace Table Legend` for help interpreting table contents

   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | N-1  | N-1                         | N-1       | N-2  | N-2                         | N-2       | N-3  | N-3                         | N-3       |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | Role | Op                          | Delta     | Role | Op                          | Delta     | Role | Op                          | Delta     |
   +======+=============================+===========+======+=============================+===========+======+=============================+===========+
   | FLWR |                             |           | FLWR |                             |           | CNDI | NEW ROLE                    |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | p_v_r+N-1 t-1 li-0 lt-0     |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | p_v_r+N-2 t-1 li-0 lt-0     |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | N-3+p_v_r t-1 li-0 lt-0     |           | FLWR |                             |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | p_v+N-3 yes-True            |           | FLWR |                             |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | N-3+p_v_r t-1 li-0 lt-0     |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | p_v+N-3 yes-True            |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | N-1+p_v yes-True            | t-1       |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | poll+N-1 t-1 li-0 lt-1      |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | poll+N-2 t-1 li-0 lt-1      |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | CNDI | N-2+p_v yes-True            |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | N-3+poll t-1 li-0 lt-1      | t-1       | FLWR |                             |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | vote+N-3 yes-True           |           | FLWR |                             |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | N-3+poll t-1 li-0 lt-1      | t-1       | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | vote+N-3 yes-True           |           | CNDI |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | N-1+vote yes-True           | lt-1 li-1 |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | NEW ROLE                    |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | ae+N-1 t-1 i-0 lt-0 e-1 c-0 |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | ae+N-2 t-1 i-0 lt-0 e-1 c-0 |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | N-2+vote yes-True           |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | N-3+ae t-1 i-0 lt-0 e-1 c-0 | lt-1 li-1 | FLWR |                             |           | LEAD |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR | N-1+ae_reply ok-True mi-1   |           | FLWR |                             |           | LEAD |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | N-3+ae t-1 i-0 lt-0 e-1 c-0 | lt-1 li-1 | LEAD |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR | N-2+ae_reply ok-True mi-1   |           | LEAD |                             |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | N-1+ae_reply ok-True mi-1   | ci-1      |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+
   | FLWR |                             |           | FLWR |                             |           | LEAD | N-2+ae_reply ok-True mi-1   |           |
   +------+-----------------------------+-----------+------+-----------------------------+-----------+------+-----------------------------+-----------+



.. collapse:: trace sequence diagram (click to toggle view)

   .. plantuml:: /developer/tests/diagrams/test_timers_1/test_heartbeat_2_1.puml
          :scale: 100%


Section 2: Node 3 is leader, starting auto comms and waiting for 0.22
=====================================================================




.. collapse:: section 2 trace table (click to toggle view)

   - See :ref:`Trace Table Legend` for help interpreting table contents

   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | N-1  | N-1                         | N-1   | N-2  | N-2                         | N-2   | N-3  | N-3                         | N-3   |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | Role | Op                          | Delta | Role | Op                          | Delta | Role | Op                          | Delta |
   +======+=============================+=======+======+=============================+=======+======+=============================+=======+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 | ci-1  | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 | ci-1  | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-1 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR | N-1+ae_reply ok-True mi-1   |       | FLWR |                             |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-1+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | ae+N-2 t-1 i-1 lt-1 e-0 c-1 |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-3+ae t-1 i-1 lt-1 e-0 c-1 |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR | N-2+ae_reply ok-True mi-1   |       | LEAD |                             |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+
   | FLWR |                             |       | FLWR |                             |       | LEAD | N-2+ae_reply ok-True mi-1   |       |
   +------+-----------------------------+-------+------+-----------------------------+-------+------+-----------------------------+-------+



.. collapse:: trace sequence diagram (click to toggle view)

   .. plantuml:: /developer/tests/diagrams/test_timers_1/test_heartbeat_2_2.puml
          :scale: 100%


